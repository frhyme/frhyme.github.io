---
title: karabiner- 맥북에서 hhkb(해피해킹) 키보드 사용시 ctrl로 한영전환하기
category: macOS 
tags: karabiner macOS hhkb keyboard 
---

## karabiner- 맥북에서 hhkb(해피해킹) 키보드 사용시 ctrl로 한영전환하기

- 얼마전에 해피해킹 키보드를 구매했습니다. 저는 회사에서는 윈도우를 사용하고, 집에서는 맥북을 사용합니다. 그리고 해피해킹은 맥북에 연결해서 사용하고 있는 중이죠. ㅑ
- 해피해킹 키보드가 나름대로 꿈에 그리던 키보드이기는 했습니다만, 조금 아쉬운 것은 한영전환을 `ctrl + space`로 해야 한다는 것이었죠. 물론 맥북도 디폴트로는 `ctrl + space`가 한영 전환이기는 한데, 저는 항상 `caps lock`을 사용해서 한영전환을 해왔죠. 영어가 모국어라면 한영전환을 할 일이 적기 때문에, 한영전환 버튼을 사용할 일이 적겠지만, 슬프게도 한국인 프로그래머는 아니, 대부분의 엔지니어 계열에 속하는 사람들은 텍스트에 한국어와 영어를 번갈아 가면서 작성해야 합니다. 따라서, 한 문단 내에서도 한영전환을 수도 없이 눌러야 하죠.
- 따라서, 한국인에게는 한영전환 버튼의 중요도가 매우 높기 때문에 키보드 위치 상에서 아주 중요한 곳에 해당 키를 두는 것이 중요합니다. 그러하므로, 저는 맥북기본 키보드에서도 캡츠락 버튼을 사용해서 한영전환을 하고, 윈도우에서도 레지스트리를 건드려서 캡츠락과 한영전환 키보드를 변경하여 사용하고 있죠. 이렇게 한 다음부터는 확실히 키보드질이 효율적으로 되었던 것 같아요.
- 아무튼, 그러나 해피해킹 키보드에서는 이게 불가능합니다. 일단 캡츠락 위치에 컨트롤 키가 있고 얘는 유일하죠. 만약 얘를 캡츠락키로 매핑하려면, 다른 쓸모없는 키가 있어야 하는데, 해피해킹은 딱 필요한 키만 남겨 놨기 때문에, 딱히 변동할 놈도 없습니다.
- 따라서, [karabiner - elements](https://karabiner-elements.pqrs.org/)를 사용해야 합니다.

## karabiner - elements

- [karabiner - elements](https://karabiner-elements.pqrs.org/)는 키 맵핑 도구라고 생각하시면 됩니다. 가령 맥OS에서 키를 가상으로 매핑하고 싶을 때 사용하는 도구죠. 
- 일단 카라비너를 설치해주고, 보통 복잡한 키 매핑을 진행해야 하는경우에는, "Complex modification"에 들어갑니다. 
- 그리고, "Add Rule"을 선택한 다음, "Import more rule from the internet(open a web browser)"를 눌러줍니다. 만약 내가 원하는 키 맵핑, 즉 여기서는 "컨트롤 버튼을 이용해서 한영전환을 하도록 하는 것"을 말하는 것이죠, 내가 원하는 키 맵핑이 이미 존재한다면, 남이 만들어 놓은 rule을 그대로 가져와서 적용해주면 됩니다.
- 하지만, 아쉽게도 제가 원하는 키 맵핑이 존재하지 않아서, 저는 다음처럼 직접 정의해주었습니다. 물론 남들이 만든 rule을 참고해서 만든 것이지만요 만약 내가 원하는 키 맵핑, 즉 여기서는 "컨트롤 버튼을 이용해서 한영전환을 하도록 하는 것"을 말하는 것이죠, 내가 원하는 키 맵핑이 이미 존재한다면, 남이 만들어 놓은 rule을 그대로 가져와서 적용해주면 됩니다.
- 하지만, 아쉽게도 제가 원하는 키 맵핑이 존재하지 않아서, 저는 다음처럼 직접 정의해주었습니다. 물론 남들이 만든 rule을 참고해서 만든 것이지만요

### rule customization  

- rule을 가져오게 되면 해당 rule은 다음 경로의 파일 내에 저장 됩니다. 

```plaintext
~/.config/karabiner/karabiner.json
```

- 이 부분에서 rule에 해당하는 부분에 내용을 다음과 같이 추가해주면 됩니다.
- 아래 내용을 `karabiner.json`에 추가해주면, karabiner에서 rule이 반영되고 예를 활성화해주면 됩니다.
  - 중요한 부분은 `to_if_alone`이겠죠. 혼자 쓰이면, 얘는 무엇으로 인식하게 해준다, 정도인 거죠. 뭐 아무튼 대충 아래를 쓰면 적용됩니다.

```json
"rules": [
    {
        "description": "korean <-> english by left ctrl",
        "manipulators": [
            {
                "from": {
                    "key_code": "left_control",
                    "modifiers": {
                        "optional": [
                            "any"
                        ]
                    }
                },
                "to": [
                    {
                        "key_code": "left_control"
                    }
                ],
                "to_if_alone": [
                    {
                        "key_code": "spacebar",
                        "modifiers": [
                            "left_control"
                        ]
                    }
                ],
                "type": "basic"
            }
        ]
    }
]
```

## wrap-up

- 이제서야 해피해킹 키보드를 제대로 사용하게 된 것 같습니다. 캡츠락으로 한영전환이 가능해지니까, 키보드질이 편해지네요 호호.
- 다만, 카라비너를 조금 더 잘 이해하면, 그동안 키보드질하면서 불편했던 많은 것들을 좀 더 개선할 수 있지 않을까 싶네요. 
