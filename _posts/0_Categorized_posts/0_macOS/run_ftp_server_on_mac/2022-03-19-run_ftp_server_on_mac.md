---
title: ë§¥ì—ì„œ ftp ì„œë²„ ë„ìš°ê¸°
category: others
tags: ftp macOS 
---

## ë§¥ì—ì„œ ftp ì„œë²„ ë„ìš°ê¸° - Intro

- ìµœê·¼ì— ê°¤ëŸ­ì‹œ íƒ­ì„ ìƒ€ìŠµë‹ˆë‹¤. ì €ëŠ” ì• í”Œì„ ì¢‹ì•„í•´ì„œ, ì•„ì´í°, ë§¥ë¶, ì•„ì´íŒ¨ë“œ, ì• í”Œì™“ì¹˜ ëª¨ë‘ ê°–ì¶”ê³  ìˆëŠ”ë°ìš”. ì• í”Œ ì œí’ˆë¼ë¦¬ëŠ” ëª¨ë‘ ì—ì–´ë“œë¡­ì„ ì‚¬ìš©í•˜ë©´ ë˜ëŠ”ë° ì• í”Œê³¼ ê°¤ëŸ­ì‹œëŠ” ì„œë¡œ ë°ì´í„°(ê°€ë ¹ ì‚¬ì§„)ì„ ì˜®ê¸°ëŠ”ê²Œ ì–´ë µë”êµ°ìš”. ë¬¼ë¡  ë©”ì¼ì´ë‚˜, ì¹´ì¹´ì˜¤í†¡ì„ ì´ìš©í•˜ë©´ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤ë§Œ.
- ê·¸ëŸ¬ë˜ ì™€ì¤‘ì— ê°¤ëŸ­ì‹œ íƒ­ì—ì„œ ë§¥ë¶ì— ftpë¡œ ì ‘ì†í•˜ëŠ” ë°©ë²•ì€ ë¶ˆê°€ëŠ¥í•œê°€? ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ë§¥ë¶ì—ì„œ nodeJSë¥¼ ì´ìš©í•´ì„œ ë„ìš´ ì„œë²„ì— ê°¤ëŸ­ì‹œíƒ­ì—ì„œ httpë¡œ ì ‘ì†í•˜ëŠ” ê²ƒì€ ê°€ëŠ¥í–ˆê±°ë“ ìš”.
- ë”°ë¼ì„œ, ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ë§¥ì—ì„œ ftp ì„œë²„ë¥¼ ì—´ë©´ ê°¤ëŸ­ì‹œì—ì„œ ftpì„œë²„ì— ì ‘ì†í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ? í•˜ëŠ” ìƒê°ì´ ë“¤ì–´ì„œ ì‹œë„í•´ë³´ê¸°ë¡œ í•©ë‹ˆë‹¤.

## ê°„ë‹¨í•œ ë°©ë²• - ë§¥ - ì›ê²© ë¡œê·¸ì¸

- ì´ë¯¸ ë¹„ìŠ·í•œ ì§ˆë¬¸ì´ ìˆì—ˆëŠ”ë°ìš”. [Clien - ëª¨í•˜ë¹„ì—ì„œ ftp ì„œë²„ í™œì„±í™” í•˜ëŠ” ë°©ë²•ì€ ì—†ë‚˜ìš”?](https://www.clien.net/service/board/cm_mac/12692903)ì— ë‹µë³€ì´ ìˆìŠµë‹ˆë‹¤. ë§¥ì—ì„œ SSH, SFTPë¥´ ì—´ì–´ì£¼ê¸° ë•Œë¬¸ì—, ì•„ë˜ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

1. ë§¥ > ì‹œìŠ¤í…œ í™˜ê²½ ì„¤ì • > ê³µìœ  > ì›ê²© ë¡œê·¸ì¸ í™œì„±í™” 
1. ê°¤ëŸ­ì‹œ íƒ­ > ë‚´ íŒŒì¼ > ë„¤íŠ¸ì›Œí¬ ì €ì¥ê³µê°„ > ë„¤íŠ¸ì›Œí¬ ì €ì¥ê³µê°„ ì¶”ê°€ > SFTP ì„œë²„ > ë§¥ë¶ì˜ IP , 22 í¬íŠ¸, ë§¥ ID, PW ì…ë ¥ 

- ì´ì œ ê°¤ëŸ­ì‹œ íƒ­ì—ì„œ ë§¥ì˜ íŒŒì¼ë“¤ì„ í´ë”ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì‹¤íŒ¨í•œ ë°©ë²• - vsftpd

- unixì—ì„œ vsftpdë¥¼ í†µí•´ ì§ì ‘ ftp ì„œë²„ë¥¼ êµ¬ë™í•´ë³´ë ¤ê³  í•˜ì˜€ìœ¼ë‚˜, ì˜¤ë¥˜ì™€ í•¨ê»˜ ì§„í–‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
- ì´ìœ ë¥¼ ê³±ì”¹ì–´ ë³´ìë©´, ì•„ë§ˆë„ ë‹¤ìŒì´ ì•„ë‹ê¹Œ í•©ë‹ˆë‹¤(ì•„ë‹ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤).

1. vsftpëŠ” yumì„ í†µí•´ ì„¤ì¹˜í•˜ê³ , ë³´í†µ centos ê³„ì—´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ, macì€ yumì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, `brew install`ì„ í†µí•´ ìš°íšŒí•´ì„œ ì„¤ì¹˜í•˜ì£ . ì´ ê³¼ì •ì—ì„œ ë¬´ì—‡ì¸ê°€ ìª¼ê¸ˆ ì‚ë—í•œê²Œ ì•„ë‹ê¹Œ ì‹¶ì–´ìš”. ì‹¤ì œë¡œ ì„¤ì¹˜ê°€ ì´ìƒí•˜ê²Œ ëœ ê²ƒ ê°™ì•„ì„œ reinstallì„ ë°˜ë³µí•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.
2. vsftpëŠ” xinetdë¼ëŠ” ì™¸ë¶€ ë°ëª¬ì—ì„œ ëŒì•„ê°€ëŠ” í”„ë¡œì„¸ìŠ¤ë¼ëŠ” ë§ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ëŒ€ì¶©, vsftpë¥¼ êµ¬ë™í•´ì£¼ëŠ” ë°ëª¬ì¸ ê²ƒ ê°™ì€ë°ìš”. ì œê°€ ë§ì´í•œ ì˜¤ë¥˜ëŠ” "ì´ë¯¸ xinetdì—ì„œ vsftp ê°€ ì‚¬ìš©í•˜ë ¤ëŠ” portì¸ 22ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ, vsftpë¥¼ êµ¬ë™í•  ìˆ˜ ì—†ë‹¤"ë¼ëŠ” ê²ƒì´ì—ˆì£ . ë¬¸ì œëŠ” ë§¥ ë‚´ì—ì„œ xinetdê°€ ì„¤ì¹˜ëœ ê²½ë¡œë¥¼ ì°¾ì„ ìˆ˜ ì—†ì—ˆë‹¤ëŠ” ê²ƒì´ì£ . `etc/xinetd` ê²½ë¡œì— ìˆë‹¤ê³  í•˜ëŠ”ë°, ì„¤ì¹˜ëœ ì ì´ ì—†ê³ , í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë“¤ì„ ë’¤ì ¸ë´ë„, xinetdëŠ” ì‚¬ìš©ëœ ì ì´ ì—†ì–´ì„œ, ëª…í™•í•˜ê²Œ í™•ì¸í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.
3. vsftpëŠ” ì‹¤í–‰ì‹œ rootë‚˜ sudo ê¶Œí•œì„ ìš”êµ¬í–ˆìŠµë‹ˆë‹¤. ì´ ê¶Œí•œì´ ë‹¬ë¼ì„œ, ë¬¸ì œê°€ ë°œìƒí–ˆì„ ê°€ëŠ¥ì„±ë„ ìˆì„ ê²ƒ ê°™êµ¬ìš”.

- ë­ ì–´ì¨Œê±°ë‚˜, ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³ , ì•„ë˜ ë‚´ìš©ì„ ì§„í–‰í•˜ê³  ë‚˜ë‹ˆ ë§¥ì´ ëˆˆì— ë„ê²Œ ëŠë ¤ì§„ ëª¨ìŠµì„ ë°œê²¬í–ˆê³  ì—¬ëŸ¬ ë²ˆ ì»´í“¨í„°ë¥¼ ì¬ì‹œì‘í•œ ë‹¤ìŒì—ì•¼ ì¡°ê¸ˆ ë‚˜ì•„ì§€ë”êµ°ìš”. ì•ìœ¼ë¡œëŠ” ë” ê´€ì‹¬ì„ ê°€ì§€ì§€ ì•Šìœ¼ë ¤ í•©ë‹ˆë‹¤. í˜¸í˜¸.

### macOSì—ì„œ vsftpd êµ¬ë™ - ì‹¤íŒ¨ê¸°

- ì´ë²ˆì—ëŠ” ì¡°ê¸ˆ ë³µì¡í•˜ê²Œ ì§„í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì§ì ‘ ftp ì„œë²„ë¥¼ ë„ì›Œë³¼ê²Œìš”.
- [FTP(VSFTPD) ì„œë²„ ì„¤ì¹˜ ë° ì„¤ì • ë°©ë²•](https://dololak.tistory.com/670)ë¥¼ í™•ì¸í•´ ë³´ë‹ˆ, [wikipedia - vsftpd](https://en.wikipedia.org/wiki/Vsftpd)ë¥¼ ì‚¬ìš©í•˜ì—¬ linuxì—ì„œ ftpë¥¼ ë„ìš¸ ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.
-  vsftpdë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ yumì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°ìš”, ì €ëŠ” ë§¥ì„ ì“°ê³  ìˆì–´ì„œ yumì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤(yumì€ Redhat based Linuxì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €). ë”°ë¼ì„œ, brewë¥¼ ì´ìš©í•´ì„œ ì„¤ì¹˜í•´ ë³´ê¸°ë¡œ í•©ë‹ˆë‹¤.

```sh
$ brew install vsftpd
...
To use chroot, vsftpd requires root privileges, so you will need to run
`sudo vsftpd`.
You should be certain that you trust any software you grant root privileges.

The vsftpd.conf file must be owned by root or vsftpd will refuse to start:
  sudo chown root /usr/local/etc/vsftpd.conf

To restart vsftpd after an upgrade:
  sudo brew services restart vsftpd
Or, if you don't want/need a background service you can just run:
  /usr/local/opt/vsftpd/sbin/vsftpd /usr/local/etc/vsftpd.conf
==> Summary
ğŸº  /usr/local/Cellar/vsftpd/3.0.5: 14 files, 288.8KB
==> Running `brew cleanup vsftpd`...
```

- ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì´ì œ ì‹¤í–‰ì„ í•´ë´…ë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜, ì—¬ëŸ¬ ì˜¤ë¥˜ì™€ í•¨ê»˜ ì§„í–‰ë˜ì§€ ì•ŠëŠ”êµ°ìš”.

```sh
$ usr/local/opt/vsftpd/sbin/vsftpd /usr/local/etc/vsftpd.conf
500 OOPS: vsftpd: must be started as root (see run_as_launching_user option)
$ /usr/local/Cellar/vsftpd/3.0.5 â¯ sudo /usr/local/opt/vsftpd/sbin/vsftpd /usr/local/etc/vsftpd.conf
500 OOPS: config file not owned by correct user, or not a file
$ sudo chown root /usr/local/etc/vsftpd.conf
$ sudo /usr/local/opt/vsftpd/sbin/vsftpd /usr/local/etc/vsftpd.conf
500 OOPS: could not bind listening IPv4 socket
$ vi /usr/local/etc/vsftpd.conf
# standaloneìœ¼ë¡œ ì‹œì‘í•˜ê¸° ìœ„í•´ svftpd.conf ë‚´
# listen=NO ë¡œ ë³€ê²½í•˜ì˜€ìœ¼ë‚˜, ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•¨.
sudo /usr/local/opt/vsftpd/sbin/vsftpd /usr/local/etc/vsftpd.conf
500 OOPS: vsftpd: not configured for standalone, must be started from inetd
```

- í˜¹ì‹œ ì´ë¯¸ port ì ìœ  ì¤‘ì¸ê°€ ì‹¶ì–´ì„œ, í™•ì¸í•´ë´¤ì§€ë§Œ, ê·¸ë˜ ë³´ì´ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.
- inetdì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¼ê³  í•˜ì—¬, processë¥¼ í™•ì¸í•´ë´¤ìœ¼ë‚˜ ì—†ê³ , ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë„ ì•Šê±°ë“ ìš”.

```sh
# í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ portë¥¼ í™•ì¸í•˜ê³ ,
# TCP 22ë²ˆ í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
$ sudo lsof -i TCP:22
```

## Wrap-up

- ì¼ë‹¨ì€ ì—¬ê¸°ê¹Œì§‘ë‹ˆë‹¤. ì´í›„ì— ì–¸ì  ê°€ ìœ ë‹‰ìŠ¤ì—ì„œ ftp ì‘ì—…ì„ í•´ì•¼ í• ë•Œ ì°¸ê³ í•´ë³´ê² ìŠµë‹ˆë‹¤.
- ì•„, í•˜ë‚˜ ë” ì‹œë„í•´ë³¼ ìˆ˜ ìˆëŠ” ì •ë„ëŠ” dockerë¡œ ìœ ë‹‰ìŠ¤ í™˜ê²½ì„ í•˜ë‚˜ ë„ìš´ ë‹¤ìŒ í•´ë‹¹ í™˜ê²½ì—ì„œ ìœ„ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë‹¤ì‹œ í•´ë³´ëŠ” ê²ƒë„ ìˆê² ë„¤ìš”. localì—ì„œëŠ” ì§€ê¸ˆ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆì–´ì„œ, í™˜ê²½ì„ ë‹¤ì‹œ ì„¸íŒ…í•´ì„œ ì‹œë„í•´ë³´ëŠ” ê²ƒì´ í•„ìš”í•´ ë³´ì…ë‹ˆë‹¤.

## Reference

- [FTP(VSFTPD) ì„œë²„ ì„¤ì¹˜ ë° ì„¤ì • ë°©ë²•](https://dololak.tistory.com/670)
- [Clien - ëª¨í•˜ë¹„ì—ì„œ ftp ì„œë²„ í™œì„±í™” í•˜ëŠ” ë°©ë²•ì€ ì—†ë‚˜ìš”?](https://www.clien.net/service/board/cm_mac/12692903)
- [homebrew - vsftpd](https://formulae.brew.sh/formula/vsftpd)
- [KLDP - [vsftp]500 OOPS:could not bind listening IPv4 socket ??](https://kldp.org/node/41994)
- [stackexchange - installing vsftpd 500 oops colud not bind listening ipv4 socket](https://unix.stackexchange.com/questions/185190/installing-vsftpd-500-oops-could-not-bind-listening-ipv4-socket)
