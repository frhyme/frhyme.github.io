---
title: 네트워크의 주요 장비
category: NetworkStudy
tags: NetworkStudy Network Hub Switch 
---

## 네트워크의 기본적인 장비들

- 네트워크에서 사용되는 기본적인 장비들의 개념들을 정리했습니다.

## 허브 - L1 Physical Layer

- 우선, 기본적으로 '허브'와 '스위치'는 모두 네트워크 멀티탭이라고 생각하면 됩니다. 사실 이게 되게 직관적인 설명입니다. 전기 또한 전국에 뚜렷한 망이 연결되어 있고 우리는 집에서 전기를 그냥 콘센트에 꽂는 것만으로도 전기를 쉽게 사용할 수 있죠.
- '허브'도 네트워크를 편하게 이용할 수 있도록 해주는 장비입니다. 다만, 가장 낮은 레벨의 장비로 그저 "허브로 들어온 정보를 그대로 다른 모든 기기에 보내는 것"을 말합니다. 만약 5개의 기기가 연결되어 있다면, 하나의 기기로부터 전달받은 것을 다른 모든 기기로 한번에 보내게 되죠. 즉, 그냥 패킷을 일괄적으로 단순히 복사 전송하는 개념이라고 보셔도 됩니다.
  - 플러딩(Flooding): 연결된 모든 기기로 데이터를 보내는 것을 '플러딩'이라고 합니다.
- 다만, 병렬적으로 데이터를 전송하는 것이 아니라, 순차적으로 하나씩만 처리하게 됩니다. 대역폭 또한 나누어 쓰게 되는데, 대역폭이 10이고, 5개의 기기에 연결되어 있다면, 각 기기가 배정받을 수 있는 최대의 대역폭은 2가 되는 것이죠.
- 허브는 저급의 장비이기 때문에, 그냥 데이터를 보내는 것이 기능의 전부죠. 다만, 허브에서 데이터 프레임을 전송하게 되면, 데이터 충돌(Collision)이 발생하게 되고, 이는 당연히 네트워크에 과부하를 발생시키게 됩니다.

## 스위치 - L2 Data Link Layer

- 연결된 모든 링크에 데이터를 그대로 송수신하는 '허브'와 다르게, '스위치'는 양방향통신이 가능하며, 해당 데이터가 전달되어야 하는 기기에 타겟팅을 해서 보내게 됩니다. 
- '스위치'는 각 기기의 Mac Address와 해당 기기에 할당된 포트를 기억해두고, 해당 기기에만 데이터를 보내게 됩니다.
- 하지만, 만약 프레임이 전송되어야 하는 Mac Address가 현재 스위치에 기록되어 있지 않다면(또한 다른 몇 가지 문제가 되는 경우에 대해서는), '허브'와 마찬가지로 프레임을 연결된 모든 기기에 전송하는 '플러딩'을 수행하게 됩니다. "누구한테 보내져야 하는지 모르겠으니, 모두에게 보내도록 한다"라는 전략인 셈이죠. 그리고 당연히 이런 경우에는 네트워크에 과부하가 걸리게 됩니다. 
- 이처럼 플러딩 등으로 인해서 발생하는 문제, 그리고 보안 문제등을 막기 위해서 V-LAN이 도입되었습니다.

## 라우터 - L3 Network Layer

- 허브와 스위치는 각각 모두 하나의 네트워크 단일한 네트워크를 설정하기 위해 사용됩니다. 예를 들어, 하나의 게임방에는 허브 혹은 스위치를 통해서 단일한 네트워크를 만들 수 있겠죠.
- 그런데, 이제 두 게임방 간에 서로 게임을 하고 싶다면, 두 네트워크가 연결되어야 겠죠. 이 역할을 '라우터'가 수행합니다.
- 즉, '라우터'는 특정 네트워크에서 데이터를 전송할 때, 이 데이터가 전송되어야 하는 도착지로 가는 길을 찾고, 그 길을 통해 데이터가 잘 도착할 수 있도록 해줍니다.
- 2단계의 장비인 스위치는 Mac Address와 포트를 사용해서 통신한다면, 3단계에 속하는 라우터는 IP주소를 사용합니다. 결국 단계적이기 때문에, 라우터를 통해서 스위치에 도달하고 그 다음 스위치에서 Mac Address와 포트를 사용해서 통신하게 되는 것이죠.

## 공유기(Home Router)

- 공유기는 "가정용 소용량 라우터"라고 생각하시면 됩니다. 아까 말한 것과 같이, '라우터'는 서로 다른 네트워크들을 연결해줍니다. 즉, 여러 네트워크를 통해서 목적지까지 무사히 도착하도록 도와주죠.
- 만약 집에 공유기가 설치되어 있다면, 가정에 있는 기기들은 공유기를 중심으로 네트워크가 구축됩니다. 이 네트워크에 속한 기기에서 데이터를 보낸다면, 공유기가 라우터의 역할을 수행하여 문제없이 도착지까지 갈 수 있도록 해준다는 말인것이죠.

### NAT(Network Address Translation)

- 우선, '라우터'는 IP Address를 가지고 통신을 하게 됩니다. 따라서, 대상이 되는 기기는 IP Address를 가지고 있어야 문제없이 목적지로 도달할 수 있는 것이죠.
- 배경을 보자면, 배정받을 수 있는 IP의 수는 제한적입니다. 즉, 각 집의 컴퓨터마다 모두 IP를 줄 수는 없으니까요. 이런 경우에는 공유기에만 IP를 배정해줍니다. 그리고 공유기가 연결된 다른 기기들에게 가상의 IP를 지정해주죠.
- 따라서, 만약 컴퓨터가 데이터를 보내면, 공유기가 받아서, 외부의 네트워크로 연결해줍니다. 반대로, 외부의 네트워크가 들어온다면, 공유기로 들어와서, 가상의 IP를 가진 컴퓨터로 전달되는 것이죠.
- 이렇게, 내부에서는 가상의 IP를 통해 처리하고, 외부에서는 공식 IP를 사용하는 것을 NAT라고 합니다.

## Reference

- [나무위키 - 공유기](https://namu.wiki/w/%EC%9D%B8%ED%84%B0%EB%84%B7%20%EA%B3%B5%EC%9C%A0%EA%B8%B0?from=%EA%B3%B5%EC%9C%A0%EA%B8%B0)
- [IT강의실 - 와이파이를 쓰기 위한 장치](https://it.donga.com/21855/)
- [NAT란](https://jwprogramming.tistory.com/30)
