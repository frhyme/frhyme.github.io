---
title: VLAN은 무엇인가?
category: NetworkStudy
tags: NetworkStudy Network LAN VLAN
---

## LAN(Local Area Network)

- 우선, [LAN](https://ko.wikipedia.org/wiki/%EA%B7%BC%EA%B1%B0%EB%A6%AC_%ED%86%B5%EC%8B%A0%EB%A7%9D)은 "근거리 통신망"을 말합니다. 집, 사무실 게임방 처럼 하나의 구역 내에 연결된 근거리통신망을 말하죠.
- LAN보다 작은 것은 [PAN(Personal Area Network)](https://ko.wikipedia.org/wiki/%EA%B0%9C%EC%9D%B8_%ED%86%B5%EC%8B%A0%EB%A7%9D), 즉 개인통신망을 말합니다. 여기에 속하는 표준 기술은 흔히 말하는 블루투스죠. 즉, 웨어러블 컴퓨팅, 모바일 컴퓨팅을 지원하기 위한 네트워크 기술이 바로 PAN입니다. 
- 그리고, LAN보다 큰 것은 켐퍼스 통신망(Campus Area Network) 그리고, 도시 통신망(Metrocity Area Network) 등이 있죠.
- 즉, 어떤 일반적으로 쓰이는 지역의 범위에 따라서 구분해놓은 네트워크 형태, 라고 보면 타당합니다. 병원, 학교, 회사 혹은 각 오피스 등 우리가 흔히 말하는 어떤 집단의 단위에서 쓰는 네트워크를 보통 LAN이라고 하는 것이죠.
- 당연하지만, LAN이 구축되어 있다면, 이 LAN에 속하는 기기들끼리는 자유로운 통신이 가능합니다. 당연히, 이 LAN 밖에 속하는 기기와는 통신이 불가능하죠.
- 아무튼, LAN을 구축한다는 것은 해당 집단이 하나의 목적을 이루는 것을 전제로 하고, 집단 내에 속하는 기기들끼리 통신을 원활하게 하는 것을 목적으로 합니다. 다만, 이 때에, 이들 간에 네트워크를 어떻게 구축하는지는 조금씩 달라지죠.
- 아래 그림을 보시면 좀 더 명확해지는데요(물론, 반드시 LAN만 이렇게 구축하는 것은 아니긴 합니다), 이 자세한 비교는 이 글에서는 하지 않겠습니다. 다만 몇 가지 예를 들어보자면
  - 메쉬형(fully connected): 모든 기기들간의 조합을 모두 연결한 경우를 말합니다. 서로 직접 연결되어 있고, 만약 어떤 edge가 끊어진다고 해도 전체 네트워크에 큰 영향을 주지는 않습니다. 다만, 구축비용이 당연히 비싸겠죠.
  - 별형: 이 경우는 중간의 하나의 기기에서 모든 다른 기기들을 연결하는 경우를 말합니다. 그리고, 보통 이 중간의 기기에는 '스위치'가 와 있죠. 가정용 네트워크로 비유해서 말을 하면, 중간에 와 있는 노드를 보통 '공유기'가 됩니다. 즉, '공유기'에만 문제가 없다면, 가정 네트워크는 문제없이 흘러갑니다. 그리고 '메쉬형'에 비하면, 구축비용이 현저히 감소하겠죠.

![Network_Type](https://w.namu.la/s/913dbb28d7fa97105a1e08ae15979260d3376196e80043d05840cd24b5bc393a4e66aaa3d603db63285e254b9cb0b684820fd5a8ea7f6bacaf3e54cffdb20a846c994553a23b0e4064603da102f66334084d86c7867ba037bfcad4f392eefc1a)

- 즉, 네트워크를 어떻게 구축하느냐에 따라 어느 정도의 장단점이 존재한다, 는 것정도만 일단은 아시면 될 것 같아요.

## VLAN(Virtual Local Area Network)

- VLAN은 L2 부터 지원되는 "논리적인 가상 지역망"이라고 번역할 수 있습니다. 일반적으로 우리는 하나의 집단에 하나의 LAN을 구축하고, 모든 기기가 서로 연결될 수 있도록 설정을 합니다. 그런데 그렇지 않은 경우들도 있죠.
- 예를 들어서 설명하면 더 쉬운데요, 가령 하나의 오피스가 있고, 지금까지 오피스의 모든 기기가 하나의 네트워크 내에 구축되어 있다고 하겠습니다. 그런데, 팀을 구분한다거나 어떤 이유로 네트워크를 구분하는 작업이 필요할 수 있겠죠. 그런데, 단지 이 작업을 위해서 매번 선을 뽑고 허브에 연결하고 이런 번잡스러운 작업을 해야 한다면, 정말 짜증나지 않을까요? ]
- 또한, 매번 팀의 구조가 바뀔 때마다, 이 번잡스러운 작업을 해야 한다면 매우 번거로울 것으로 생각됩니다. 즉, 물리적인 경계를 허물고 가상의 경계로 세우는 망이 바로 "가상 지역망", 즉 Virtual Local Area Network라고 할 수 있습니다.

### 장점1: 보안 

- 우선, 필요에 따라 서로 다른 오피스에 대해서 경계를 만들어서 서로 배반적인 네트워크로 설정할 수 있으므로, 보안 측면에서 이득이 발생합니다.
- 이 때 보통 L2 스위치를 사용하게 되는데요, 만약 스위치에 포트가 10개 있다고 하면, 1번부터 5번까지에 대해서는 VLAN1을 구성하고, 6번부터 10번까지는 VLAN2를 구성할 수 있습니다. 이렇게 할 경우, 물리적으로는 하나의 스위치에 연결되어 있지만, 논리적으로는 서로 다른 네트워크에 존재하게 되어서, 서로 통신하는 것이 불가능해지죠.

### 장점2: 유연성

- VLAN은 스위치를 통해서 구축됩니다. 만약 스위치가 아니라, 허브를 통해 네트워크를 구축한다면, 새로운 네트워크를 만들 때마다 '허브'에 선을 연결하고 끊고를 해야하지요.
- 하지만, (L2)스위치를 사용해서 소프트웨어 적으로 가상의 네트워크(VLAN)을 구축할 경우, 물리적인 변화없이 소프트웨어적으로 네트워크를 구성 및 관리할 수 있으므로 매우 유연하게 네트워크를 관리할 수 있습니다.

### 장점3: 브로드캐스팅 트래픽 관리

- 또한, 허브의 경우는 모든 기기에 받은 신호를 전달하는 반면, 스위치의 경우는 MAC Address를 관리하여 대상이 되는 기기에만 신호를 보낼 수 있죠. 하지만, 이럴 때도 해당이 되는 기기의 MAC Address가 없거나, 혹은 몇 가지 문제들로 인해서, 허브와 마찬가지로 모든 기기에 신호를 보내거나, 하는 일이 발생할 수 있습니다. 당연하지만, 이 또한, 네트워크에 큰 부담을 발생시키게 되죠.
- 따라서, 스위치를 사용해 VLAN을 구축하여 네트워크를 구분한다면, 이런 "브로드캐스팅"이 각 네트워크에만 발생하게 되므로, 네트워크에 걸리는 과부하가 줄어들게 됩니다.

---

## VLAN 구성방법 

- 포트로 연결하기: 연결된 포트들에 대해서, 포트에게 각각 서로 다른 VLAN을 설정해주는 것을 말합니다. 포트 1, 2, 3, 4에게는 VLAN1을 포트 5, 6, 7, 8에게는 VLAN2을 주면 논리적으로 서로 다른 (가상의)네트워크에 기기들이 연결되고 다른 네트워크 2개가 생성된 셈이죠.
- MAC Address로 연결하기: 기기의 랜카드(네트워크 어댑터)에는 모두 고유의 맥 어드레스를 가지고 있습니다. 즉, 맥 어드레스만으로도 해당 기기의 고유성이 보장되고, 이를 통해 VLAN을 구성할 수도 있죠.


### 트렁크 포트

- 트렁크 포트(Trunk Port)는 "하나의 포트를 통해서, 여러 VLAN으로 전송할 수 있도록 하는 포트"를 말합니다.
- 이 포트에는 반드시 '라우터'만이 연결되며, 보통 스위치와 스위치 사이의 트렁크 링크에 라우터가 존재하죠. 
- 가령, 스위치A에 연결되어 있는, 기기A와 스위치B에 연결되어 있는 기기B를 같은 VLAN에 존재하도록 설정하고 싶다면, 두 스위치의 트렁크 포트를 라우터를 통해 연결하여, VLAN을 구축할 수 있습니다.

![trunk_link](https://netzweb.weebly.com/uploads/5/7/1/7/57173245/vlans-vtpframe.png?633)


### 공유기 

### V-LAN
- 
- 라우터
- 허브
- 공유기
- 스위치
- OSI 7계층
- TCP/IP 
- vlan

- 브로드캐스팅과 플러딩의 차이점? 
  - 개념적으로는 비슷하게 느껴지는데, 흠.

## Further Issues

## Reference

- [네트워크, VLAN 총정리](https://m.blog.naver.com/PostView.nhn?blogId=lunarispars&logNo=221440105402&categoryNo=22&proxyReferer=https:%2F%2Fwww.google.com%2F)
